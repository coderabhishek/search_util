1)/2. (b) A single level of a recursion tree that is very well balanced. In both parts, the
partitioning cost for the subproblems shown with elliptical shading is Θ(n). Yet the
subproblems remaining to be solved in (a), shown with square shading, are no larger than the
corresponding subproblems remaining to be solved in (b).
The combination of the bad split followed by the good split produces three subarrays of sizes
0, (n - 1)/2 - 1, and (n - 1)/2 at a combined partitioning cost of Θ(n) + Θ(n - 1) = Θ(n).
Certainly, this situation is no worse than that in Figure 7.5(b), namely a single level of
partitioning that produces two subarrays of size (n - 1)/2, at a cost of Θ(n). Yet this latter
situation is balanced! Intuitively, the Θ(n - 1) cost of the bad split can be absorbed into the
Θ(n) cost of the good split, and the resulting split is good. Thus, the running time of quicksort,
when levels alternate between good and bad splits, is like the running time for good splits
alone: still O(n lg n), but with a slightly larger constant hidden by the O-notation. We shall
give a rigorous analysis of the average case in Section 7.4.2.
Exercises 7.2-1
Use the substitution method to prove that the recurrence T (n) = T (n - 1) + Θ(n) has the
solution T (n) = Θ(n2), as claimed at the beginning of Section 7.2.

Exercises 7.2-2
What is the running time of QUICKSORT when all elements of array A have the same value?

Exercises 7.2-3
Show that the running time of QUICKSORT is Θ(n2) when the array A contains distinct
elements and is sorted in decreasing order.

Exercises 7.2-4
Banks often record transactions on an account in order of the times of the transactions, but
many people like to receive their bank statements with checks listed in order by check
number. People usually write checks in order by check number, and merchants usually cash
them with reasonable dispatch. The problem of converting time-of-transaction ordering to
check-number ordering is therefore the problem of sorting almost-sorted input. Argue that the
procedure INSERTION-SORT would tend to beat the procedure QUICKSORT on this
problem.

