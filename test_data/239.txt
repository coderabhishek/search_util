Figure 13.1: A red-black tree with black nodes darkened and red nodes shaded. Every node in
a red-black tree is either red or black, the children of a red node are both black, and every
simple path from a node to a descendant leaf contains the same number of black nodes. (a)
Every leaf, shown as a NIL, is black. Each non-NIL node is marked with its black-height;
NIL's have black-height 0. (b) The same red-black tree but with each NIL replaced by the
single sentinel nil[T], which is always black, and with black-heights omitted. The root's parent
is also the sentinel. (c) The same red-black tree but with leaves and the root's parent omitted
entirely. We shall use this drawing style in the remainder of this chapter.
As a matter of convenience in dealing with boundary conditions in red-black tree code, we
use a single sentinel to represent NIL (see page 206). For a red-black tree T, the sentinel nil[T]
is an object with the same fields as an ordinary node in the tree. Its color field is BLACK, and
its other fields—p, left, right, and key—can be set to arbitrary values. As Figure 13.1(b)
shows, all pointers to NIL are replaced by pointers to the sentinel nil[T].
We use the sentinel so that we can treat a NIL child of a node x as an ordinary node whose
parent is x. Although we instead could add a distinct sentinel node for each NIL in the tree, so
that the parent of each NIL is well defined, that approach would waste space. Instead, we use
the one sentinel nil[T] to represent all the NIL's—all leaves and the root's parent. The values
of the fields p, left, right, and key of the sentinel are immaterial, although we may set them
during the course of a procedure for our convenience.
We generally confine our interest to the internal nodes of a red-black tree, since they hold the
key values. In the remainder of this chapter, we omit the leaves when we draw red-black trees,
as shown in Figure 13.1(c).
We call the number of black nodes on any path from, but not including, a node x down to a
leaf the black-height of the node, denoted bh(x). By property 5, the notion of black-height is
well defined, since all descending paths from the node have the same number of black nodes.
We define the black-height of a red-black tree to be the black-height of its root.

