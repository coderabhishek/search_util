where Ai is the event that person i's birthday is different from person j's for all j < i. Since we
can write Bk = Ak ∩ Bk-1, we obtain from equation (C.16) the recurrence
(5.8)
where we take Pr{B1} = Pr{A1} = 1 as an initial condition. In other words, the probability that
b1, b2, ..., bk are distinct birthdays is the probability that b1, b2, ..., bk-1 are distinct birthdays
times the probability that bk ≠ bi for i = 1, 2, ..., k - 1, given that b1, b2, ..., bk-1 are distinct.
If b1, b2, ..., bk-1 are distinct, the conditional probability that bk ≠ bi for i = 1, 2, ..., k - 1 is Pr
{Ak | Bk-1} = (n - k + 1)/n, since out of the n days, there are n - (k - 1) that are not taken. We
iteratively apply the recurrence (5.8) to obtain

Inequality (3.11), 1 + x ≤ ex, gives us

when -k(k - 1)/2n ≤ ln(1/2). The probability that all k birthdays are distinct is at most 1/2 when
k(k - 1) = 2n ln 2 or, solving the quadratic equation, when
. For n = 365,
we must have k ≥ 23. Thus, if at least 23 people are in a room, the probability is at least 1/2
that at least two people have the same birthday. On Mars, a year is 669 Martian days long; it
therefore takes 31 Martians to get the same effect.
An analysis using indicator random variables
We can use indicator random variables to provide a simpler but approximate analysis of the
birthday paradox. For each pair (i, j) of the k people in the room, we define the indicator
random variable Xij, for 1 ≤ i < j ≤ k, by

By equation (5.7), the probability that two people have matching birthdays is 1/n, and thus by
Lemma 5.1, we have

