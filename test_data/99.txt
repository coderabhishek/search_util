E [Xij] = Pr{person i and person j have the same birthday}
= 1/n.
Letting X be the random variable that counts the number of pairs of individuals having the
same birthday, we have

Taking expectations of both sides and applying linearity of expectation, we obtain

When k(k - 1) ≥ 2n, therefore, the expected number of pairs of people with the same birthday
is at least 1. Thus, if we have at least
individuals in a room, we can expect at least two
to have the same birthday. For n = 365, if k = 28, the expected number of pairs with the same
birthday is (28 · 27)/(2 · 365) ≈ 1.0356.
Thus, with at least 28 people, we expect to find at least one matching pair of birth-days. On
Mars, where a year is 669 Martian days long, we need at least 38 Martians.
The first analysis, which used only probabilities, determined the number of people required
for the probability to exceed 1/2 that a matching pair of birthdays exists, and the second
analysis, which used indicator random variables, determined the number such that the
expected number of matching birthdays is 1. Although the exact numbers of people differ for
.
the two situations, they are the same asymptotically:

5.4.2 Balls and bins
Consider the process of randomly tossing identical balls into b bins, numbered 1, 2,..., b. The
tosses are independent, and on each toss the ball is equally likely to end up in any bin. The
probability that a tossed ball lands in any given bin is 1/b. Thus, the ball-tossing process is a
sequence of Bernoulli trials (see Appendix C.4) with a probability 1/b of success, where
success means that the ball falls in the given bin. This model is particularly useful for
analyzing hashing (see Chapter 11), and we can answer a variety of interesting questions
about the ball-tossing process. (Problem C-1 asks additional questions about balls and bins.)
How many balls fall in a given bin? The number of balls that fall in a given bin follows the
binomial distribution b(k; n, 1/b). If n balls are tossed, equation (C.36) tells us that the
expected number of balls that fall in the given bin is n/b.

