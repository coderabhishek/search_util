As the following lemma shows, it is easy to come up with a reweighting of the edges that
satisfies the first property above. We use δ to denote shortest-path weights derived from
weight function w and to denote shortest-path weights derived from weight function .
Lemma 25.1: (Reweighting does not change shortest paths)
Given a weighted, directed graph G = (V, E) with weight function w : E → R, let h : V → R
be any function mapping vertices to real numbers. For each edge (u, v) E, define
(25.9)
Let p = v0, v1,..., vk be any path from vertex v0 to vertex vk. Then p is a shortest path from
v0 to vk with weight function w if and only if it is a shortest path with weight function . That
. Also, G has a negative-weight cycle using
is, w(p) = δ(v0, vk) if and only if
weight function w if and only if G has a negative-weight cycle using weight function .
Proof We start by showing that
(25.10)
We have

Therefore, any path p from v0 to vk has
. If one path from v0 to vk is
shorter than another using weight function w, then it is also shorter using . Thus, w(p) = δ(v0,
vk) if and only if
.
Finally, we show that G has a negative-weight cycle using weight function w if and only if G
has a negative-weight cycle using weight function . Consider any cycle c = v0, v1,..., vk ,
where v0 = vk. By equation (25.10),
= w(c) + h(v0) - h(vk)
= w(c),
and thus c has negative weight using w if and only if it has negative weight using .

Producing nonnegative weights by reweighting

